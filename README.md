# PW-2122
Repositorio para la practica de PW del a√±o 21-22

#SENTENCIAS SQL
###########################################################################################################################
# SENTENCIAS SQL TABLA USUARIO

# 1- CREAR TABLA USUARIO (HECHO)

CREATE TABLE `USUARIO`(
`CORREO` VARCHAR( 64 ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NOT NULL ,
`NOMBRE` VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL,
`APELLIDO1` VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL,
`APELLIDO2` VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL,
`NICK` VARCHAR(64) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL,
`ROL` ENUM( 'administrador', 'espectador' ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL,
PRIMARY KEY (`CORREO`)
) TYPE = MYISAM CHARACTER SET utf8 COLLATE utf8_spanish_ci COMMENT = 'TABLA DE ATRIBUTOS DE UN USUARIO';

##############################################################################################################################
# SENTENCIAS SQL TABLA CRITICA

# 1. CREAR TABLA CRITICA (HECHO)

CREATE TABLE `CRITICA` (
`TITULO` VARCHAR( 64 ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NOT NULL ,
`RESENA` TEXT CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL ,
PRIMARY KEY ( `TITULO` ) ,
FULLTEXT (
`RESENA`
)
) TYPE = MYISAM CHARACTER SET utf8 COLLATE utf8_spanish_ci COMMENT = 'TABLA DE ATRIBUTOS DE UNA CRITICA'

###############################################################################################################################

# SENTENCIAS SQL TABLA USUARIO-CRITICA

# 1. CREAR TABLA USUARIO-CRITICA (HECHO)

CREATE TABLE USUARIO_CRITICA(
CORREO VARCHAR( 64 ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NOT NULL ,
TITULO VARCHAR( 64 ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NOT NULL ,
VALORACION_UTILIDAD TEXT CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL ,
PRIMARY KEY (CORREO, TITULO),
FOREIGN KEY ( CORREO ) REFERENCES USUARIO( CORREO ) ,
FOREIGN KEY ( TITULO ) REFERENCES CRITICA( TITULO ) ,
FULLTEXT (
VALORACION_CRITICA
)
) TYPE = MYISAM COMMENT = 'TABLA RELACION USUARIO Y CRITICA';

###################################################################################################################################

# SENTENCIAS SQL TABLA ESPECTACULO

# 1. CREAR TABLA ESPECTACULO (HECHO)

CREATE TABLE `ESPECTACULO` (
`TITULO` VARCHAR( 64 ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NOT NULL ,
`DESCRIPCION` TEXT CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL ,
`CATEGORIA` ENUM ('CONCIERTO', 'MONOLOGO', 'OBRA TEATRO') CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL,
`LOCALIDADES` INT NULL DEFAULT '0',
`VENTAS` INT NULL DEFAULT '0',
PRIMARY KEY ( `TITULO` ) ,
FULLTEXT (
`DESCRIPCION`
)
) TYPE = MYISAM CHARACTER SET utf8 COLLATE utf8_spanish_ci COMMENT = 'TABLA CON LOS ATRIBUTOS COMUNES DE LOS DISTINTOS TIPOS DE ESPECTACULOS';

##############################################################################################################################################

# SENTENCIAS SQL TABLA ESPECTACULO-PUNTUAL

# 1. CREAR TABLA ESPECTACULO-PUNTUAL

CREATE TABLE `ESPECTACULO_PUNTUAL` (
`TITULO` VARCHAR( 64 ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NOT NULL ,
`TIPO` ENUM ('PUNTUAL') CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL DEFAULT 'PUNTUAL',
`DIA` ENUM ('1','2','3','4','5','6','7','8','9','10','11','12','13','14','15','16','17','18','19,'20','21','22','23','24','25','26','27','28','29','30','31') 
CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL DEFAULT '1',
`MES` ENUM( '01', '02', '03', '04', '05', '06', '07', '08', '09', '10', '11', '12' ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL DEFAULT '01',
`ANO` ENUM ('2021','2022','2023','2024','2025','2026','2027','2028','2029','2030','2031','2032','2033','2034','2035','2036','2037','2038') 
CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL DEFAULT '2021',
`HORA` ENUM ('10','15','30','45') CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL DEFAULT '10',
`MINUTOS` ENUM ('00','10','15','30','45') CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL DEFAULT '00',
PRIMARY KEY ( `TITULO` ) ,
FOREIGN KEY (TITULO) REFERENCES ESPECTACULO(TITULO)
) TYPE = MYISAM CHARACTER SET utf8 COLLATE utf8_spanish_ci COMMENT = 'TABLA CON LOS ATRIBUTOS DE UN ESPECTACULO PUNTUAL';

##################################################################################################################################################################

# OPERACIONES DE LA TABLA ESPECTACULO-MULTIPLE

# 1. CREACION TABLA ESPECTACULO-MULTIPLE

CREATE TABLE `ESPECTACULO_MULTIPLE` (
`TITULO` VARCHAR( 64 ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NOT NULL ,
`TIPO` ENUM('MULTIPLE') CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL DEFAULT 'MULTIPLE',
`DIA_SEMANA1` ENUM( 'LUNES', 'MARTES', 'MIERCOLES', 'JUEVES', 'VIERNES', 'SABADO', 'DOMINGO' ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL ,
`HORA1` ENUM( '10', '15', '30', '45' ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL ,
`MINUTOS1` ENUM( '00', '10', '15', '30', '45' ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL ,
`DIA_SEMANA2` ENUM( 'LUNES', 'MARTES', 'MIERCOLES', 'JUEVES', 'VIERNES', 'SABADO', 'DOMINGO' ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL ,
`HORA2` ENUM( '10', '15', '30', '45' ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL ,
`MINUTOS2` ENUM( '00', '10', '15', '30', '45' ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL ,
PRIMARY KEY ( `TITULO` ) ,
FOREIGN KEY (TITULO) REFERENCES ESPECTACULO(TITULO)
) TYPE = MYISAM CHARACTER SET utf8 COLLATE utf8_spanish_ci COMMENT = 'TABLA CON LOS ATRIBUTOS DE UN ESPECTACULO MULTIPLE';

##################################################################################################################################################################

# OPERACIONES DE LA TABLA ESPECTACULO DE TEMPORADA

# 1. CREACION DE LA TABLA ESPECTACULO DE TEMPORADA

CREAR-TABLA-ESPECTACULO-TEMPORADA: 

CREATE TABLE `ESPECTACULO_TEMPORADA` (
`TITULO` VARCHAR( 64 ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NOT NULL ,
`TIPO` ENUM('TEMPORADA' ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL DEFAULT 'TEMPORADA',
`DIA_SEMANA` ENUM( 'LUNES', 'MARTES', 'MIERCOLES', 'JUEVES', 'VIERNES', 'SABADO', 'DOMINGO' ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL ,
`HORA_INICIO` ENUM( '10', '15', '30', '45' ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL ,
`MINUTOS_INICIO` ENUM( '00', '10', '15', '30', '45' ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL ,
`HORA_FIN` ENUM( '10', '15', '30', '45' ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL ,
`MINUTOS_FIN` ENUM( '00', '10', '15', '30', '45' ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL ,
PRIMARY KEY ( `TITULO` ) ,
FOREIGN KEY (TITULO) REFERENCES ESPECTACULO(TITULO)
) TYPE = MYISAM CHARACTER SET utf8 COLLATE utf8_spanish_ci COMMENT = 'TABLA CON LOS ATRIBUTOS DE UN ESPECTACULO DE TEMPORADA';

##################################################################################################################################################################

# OPERACIONES DE LA TABLA RELACION ESPECTACULO-CRITICA

CREAR-TABLA-RELACION-ESPECTACULO-CRITICA: 

CREATE TABLE `ESPECTACULO_CRITICA` (
`TITULO_CRITICA` TEXT CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL ,
`TITULO_ESPECTACULO` VARCHAR( 64 ) CHARACTER SET utf8 COLLATE utf8_spanish_ci NOT NULL ,
`PUNTUACION` ENUM('0','1','2','3', '4', '5', '6', '7','8','9','10') CHARACTER SET utf8 COLLATE utf8_spanish_ci NULL DEFAULT '0' ,
PRIMARY KEY ( `TITULO_ESPECTACULO`, `TITULO_CRITICA` ) ,
FOREIGN KEY ('TITULO_ESPECTACULO') REFERENCES ESPECTACULO ('TITULO'),
FOREIGN KEY ('TITULO_CRITICA) REFERENCES  CRITICA ('TITULO'),
) TYPE = MYISAM CHARACTER SET utf8 COLLATE utf8_spanish_ci COMMENT = 'TABLA RELACION CRITICA Y ESPECTACULO';




